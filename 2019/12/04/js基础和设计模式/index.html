<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="liwenxin-jam's blog"><meta name="keywords" content="liwenxin, jam, blog, 个人博客"><title>js基础和设计模式 | 前端工程狮_jam</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">js基础和设计模式</h1><a id="logo" href="/.">前端工程狮_jam</a><p class="description">人都会成长，过程在自己</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="请输入关键字"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">js基础和设计模式</h1><div class="post-meta"><p><span class="date">Dec 04, 2019</span><span><a href="/categories/javascript/" class="category">javascript</a></span></p></div><div class="post-content"><p>其实我个人在项目用过的模式也不多，对模式的概念的理解也没有那么抽象，所以最近在面试中如果面试官问到与模式相关的问题，自己感觉在对答过程中很郁闷，很多东西表达不清楚，于是就找了些相关资料，才会有这篇文章分享。JavaScript模式与前端的工作和成长密不可分，因为这确实不是一个简单的话题，所以我只能尽力用简单表达和例子阐明。</p>
<h4 id="1、基础概念"><a href="#1、基础概念" class="headerlink" title="1、基础概念"></a>1、基础概念</h4><ul>
<li><p>in 判断一个对象, 是否拥有某个属性(如果对象身上没有, 会到原型对象里面查找)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.address = <span class="string">'上海'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">'jam'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="comment">// 一定要注意, 不能直接写名称, 不然会被当做变量名处理, 要以字符串的形式来写</span></span><br><span class="line"><span class="comment">// console.log(name in p);  // 为啥是false?</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'name'</span> <span class="keyword">in</span> p);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'address'</span> <span class="keyword">in</span> p);</span><br></pre></td></tr></table></figure>
</li>
<li><p>hasOwnProperty: 只到对象自身查找</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.address = <span class="string">'上海'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">'sz'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.hasOwnProperty(<span class="string">'name'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(p.hasOwnProperty(<span class="string">'address'</span>));</span><br></pre></td></tr></table></figure>
</li>
<li><p>isPrototypeOf: 判断一个对象, 是否是某个实例的原型对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.isPrototypeOf(p)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">var obj = &#123;</span></span><br><span class="line"><span class="comment">  name: 'xx'</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">Person.prototype = obj;</span></span><br><span class="line"><span class="comment">console.log(Person.prototype.isPrototypeOf(p)); // false</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'xx'</span></span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype = obj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.isPrototypeOf(p2)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>instanceOf : 判断一个对象, 是否是某个构造函数的原型链上</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(p <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'xx'</span></span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype = obj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(p2);</span><br><span class="line"><span class="built_in">console</span>.log(p2 <span class="keyword">instanceof</span> Person);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>细细品味会发现isPrototypeOf、instanceOf两者的区别主要是：<br>    A.isPrototypeOf(B) 判断的是A对象是否存在于B对象的原型链之中<br>    A instanceof B  判断的是B.prototype是否存在与A的原型链之中<br>  结论：<br>　  如果 A.isPrototypeOf(B)  返回true 则B instanceof A 一定返回true</p>
</blockquote>
<ul>
<li><p>construnctor: 构造器</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">()</span> <span class="comment">&#123;&#125;</span></span></span><br><span class="line"><span class="function"><span class="title">var</span> <span class="title">p</span> = <span class="title">new</span> <span class="title">Person</span><span class="params">()</span>;</span></span><br><span class="line">console.log(p);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以沿着这条线找到类型名称</span></span><br><span class="line">console.log(p<span class="function">.<span class="keyword">constructor</span>.<span class="title">name</span>);</span></span><br><span class="line"></span><br><span class="line">Person.prototype = <span class="comment">&#123;</span></span><br><span class="line"><span class="comment">  constructor: Person, // 一定要设置, 否则就指向了Object</span></span><br><span class="line"><span class="comment">  name: 'sz',</span></span><br><span class="line"><span class="comment">  age: 18</span></span><br><span class="line"><span class="comment">&#125;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line">console.log(p2<span class="function">.<span class="keyword">constructor</span>.<span class="title">name</span>);</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对象.属性的方法去访问属性的时候，先查找有没有对应的实例属性，如果有那么就直接使用。如果没有，那么就去该对象的原型对象上面去找，如果有那么就直接使用。如果没有，那么就接着查找原型对象的原型对象，如果有，那么就直接使用，如果没有，那么就继续上面的搜索过程，直到搜索到Object.prototype为止，如果还是没有找到就返回undefined或者是报错，原型链搜索的路径越长，查询属性所花费的时间就越多。注意：原型链搜索的路径越长，查询属性所花费的时间就越多，原则：就近原型</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 画出 arr 的完整原型图</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">console.log(arr<span class="function">.<span class="keyword">constructor</span>.<span class="title">name</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. Array的构造函数: Function</span></span><br><span class="line">console.log(<span class="keyword">Array</span>.__proto__<span class="function">.<span class="keyword">constructor</span>.<span class="title">name</span>);</span></span><br><span class="line"><span class="comment">// 2. Function的原型对象</span></span><br><span class="line"><span class="comment">// 3. Array的__proto__</span></span><br><span class="line"><span class="comment">// 4. Function的原型对象的constructor</span></span><br><span class="line">console.log(<span class="function"><span class="keyword">Function</span>.<span class="title">prototype</span>.<span class="title">constructor</span>.<span class="title">name</span>);</span> <span class="comment">// Function</span></span><br><span class="line"><span class="comment">// 5. Function对象的构造函数</span></span><br><span class="line">console.log(<span class="function"><span class="keyword">Function</span>.__<span class="title">proto__</span>.<span class="title">constructor</span>.<span class="title">name</span>);</span> <span class="comment">// 到头了</span></span><br><span class="line"><span class="comment">// 6. Function的__proto__: Function的原型对象</span></span><br><span class="line"><span class="comment">// 7. Array的原型对象的构造函数</span></span><br><span class="line">console.log(<span class="keyword">Array</span>.prototype.__proto__<span class="function">.<span class="keyword">constructor</span>.<span class="title">name</span>);</span> <span class="comment">// Object</span></span><br><span class="line"><span class="comment">// 8. Object的原型对象, constructor</span></span><br><span class="line"><span class="comment">// 9. Object的原型对象的构造函数</span></span><br><span class="line">console.log(<span class="keyword">Object</span>.prototype.__proto__); <span class="comment">// null 到头了</span></span><br><span class="line"><span class="comment">// 10. Object对象的构造函数</span></span><br><span class="line">console.log(<span class="keyword">Object</span>.__proto__<span class="function">.<span class="keyword">constructor</span>.<span class="title">name</span>);</span> <span class="comment">// Function</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(<span class="keyword">name</span>)</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">  this.name = name;</span></span></span><br><span class="line"><span class="function"><span class="comment">  this.toString = function () &#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">    console.log('我是增加在对象上的方法');</span></span></span><br><span class="line"><span class="function"><span class="comment">  &#125;</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.toString = <span class="function"><span class="keyword">function</span> <span class="params">()</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">  console.log('我是增加在原型对象上的方法');</span></span></span><br><span class="line"><span class="function"><span class="comment">&#125;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = new Person(<span class="string">'sz'</span>);</span><br><span class="line">p.toString();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2、浅拷贝和深拷贝"><a href="#2、浅拷贝和深拷贝" class="headerlink" title="2、浅拷贝和深拷贝"></a>2、浅拷贝和深拷贝</h4><ul>
<li><p>浅拷贝，拷贝属性。如果属性的值是引用类型的,那么子对象和父对象共享一块数据,修改了某个对象对另外一个对象有影响</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;name: <span class="string">'撩课'</span>, age: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 目标, 让obj2, 拥有obj内的所有属性</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    obj2[key] = obj[key];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj3 = &#123;<span class="keyword">class</span>: <span class="string">'09'</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(obj3, obj, &#123;address: <span class="string">'上海'</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(obj3);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = &#123;name: <span class="string">'张三'</span>, pets: [<span class="string">'小花'</span>, <span class="string">'小黑'</span>, <span class="string">'土豆'</span>]&#125;;</span><br><span class="line"><span class="keyword">var</span> copyP = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*for (var key in p) &#123;</span></span><br><span class="line"><span class="comment">  copyP[key] = p[key];</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认情况下, 全部都是浅拷贝</span></span><br><span class="line"><span class="built_in">Object</span>.assign(copyP, p);</span><br><span class="line">copyP.pets.push(<span class="string">'马铃薯'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p);</span><br></pre></td></tr></table></figure>
</li>
<li><p>深拷贝</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 要拷贝的对象</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'撩课'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  friends: [<span class="string">'小花'</span>, <span class="string">'小黑'</span>],</span><br><span class="line">  goodF: &#123;</span><br><span class="line">    name: <span class="string">'小撩'</span>,</span><br><span class="line">    age: <span class="number">19</span>,</span><br><span class="line">    address: <span class="string">'上海'</span>,</span><br><span class="line">    pets: [&#123;<span class="attr">name</span>: <span class="string">'土豆'</span>&#125;, &#123;<span class="attr">name</span>: <span class="string">'马铃薯'</span>&#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  bir: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 深拷贝fromObj面的所有属性/值, 到toObj对象里面</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param </span>fromObj 拷贝对象</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param </span>toObj   目标对象</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCopyObj2NewObj</span>(<span class="params">fromObj, toObj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> fromObj) &#123;</span><br><span class="line">    <span class="keyword">var</span> fromValue = fromObj[key];</span><br><span class="line">    <span class="comment">// 如果是值类型，那么就直接拷贝赋值</span></span><br><span class="line">    <span class="keyword">if</span> (!isObj(fromValue)) &#123;</span><br><span class="line">      toObj[key] = fromValue;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 如果是引用类型，那么就再调用一次这个方法，</span></span><br><span class="line">      <span class="comment">// 去内部拷贝这个对象的所有属性</span></span><br><span class="line">      <span class="comment">//  fromValue是什么类型, 创建一个该类型的空对象</span></span><br><span class="line">      <span class="keyword">var</span> tmpObj = <span class="keyword">new</span> fromValue.constructor;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// console.log(tmpObj);</span></span><br><span class="line">      <span class="comment">// debugger;</span></span><br><span class="line">      deepCopyObj2NewObj(fromValue, tmpObj);</span><br><span class="line">      toObj[key] = tmpObj;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 辅助函数, 判定是否是对象</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param <span class="variable">obj</span></span></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@returns <span class="type">&#123;boolean&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObj</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj <span class="keyword">instanceof</span> <span class="built_in">Object</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 辅助函数, 判定是否是数组</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param <span class="variable">obj</span></span></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@returns <span class="type">&#123;boolean&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.isArray(obj);</span><br><span class="line">  <span class="comment">// Object.prototype.toString.call(obj) == '[object Array]'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newObj = &#123;&#125;; <span class="comment">// 0x1111</span></span><br><span class="line">deepCopyObj2NewObj(obj, newObj);</span><br><span class="line">obj.goodF.pets[<span class="number">0</span>][<span class="string">'size'</span>] = <span class="string">'20px'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="built_in">console</span>.log(newObj);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="3、原型链继承"><a href="#3、原型链继承" class="headerlink" title="3、原型链继承"></a>3、原型链继承</h4><ul>
<li><p>原型链继承</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 构造函数Person</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'撩课学院'</span>;</span><br><span class="line">  <span class="keyword">this</span>.pets = [<span class="string">'小煤球'</span>, <span class="string">'Python'</span>];</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'跑'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 构造函数Student</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stu</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.num = <span class="string">'itlike.com'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 构造父类的实例</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="comment">// 2. 并设置为子类的原型对象</span></span><br><span class="line">Stu.prototype = p;</span><br><span class="line"><span class="comment">// 3. 修复constructor指针</span></span><br><span class="line">Stu.prototype.<span class="keyword">constructor</span> = Stu;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 全部都继承</span></span><br><span class="line"><span class="keyword">var</span> stu = <span class="keyword">new</span> Stu();</span><br><span class="line"><span class="built_in">console</span>.log(stu);</span><br><span class="line"><span class="built_in">console</span>.log(stu.num);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(stu.name);</span><br><span class="line"><span class="built_in">console</span>.log(stu.pets);</span><br><span class="line">stu.run();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(stu.<span class="keyword">constructor</span>.name); <span class="comment">//stu</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>寄生式组合继承，寄生式组合继承 = 寄生式(原型式继承+对象增加) + 原型链 + 借助构造函数继承</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, pets</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.pets = pets;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'跑'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">num, name, pets</span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="keyword">this</span>, name, pets);</span><br><span class="line">  <span class="keyword">this</span>.num = num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.原型式继承</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tmp</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Tmp.prototype = Person.prototype;</span><br><span class="line"><span class="keyword">var</span> stuPro = <span class="keyword">new</span> Tmp();</span><br><span class="line"><span class="comment">// 增强动作</span></span><br><span class="line">stuPro.constructor = Student;</span><br><span class="line"><span class="comment">// 原型链继承</span></span><br><span class="line">Student.prototype = stuPro;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stu = <span class="keyword">new</span> Student(<span class="string">'001'</span>, <span class="string">'sz'</span>, [<span class="string">'小花'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(stu);</span><br><span class="line">stu.run();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stu2 = <span class="keyword">new</span> Student(<span class="string">'002'</span>,<span class="string">'王二小'</span>, [<span class="string">'土豆'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(stu2);</span><br><span class="line">stu2.run();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="4、设计模式"><a href="#4、设计模式" class="headerlink" title="4、设计模式"></a>4、设计模式</h4><ul>
<li><p>工厂模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简单工厂模式: 给定原材料,加工出给定的产品</span></span><br><span class="line"><span class="comment">// 咖啡机</span></span><br><span class="line"><span class="comment">// 放入咖啡豆和水, 加工出不同比例的咖啡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeCoffee</span>(<span class="params">dou, water</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  obj.dou = dou;</span><br><span class="line">  obj.water = water;</span><br><span class="line">  obj.bili = dou / water;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> coffee = makeCoffee(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'造出了纯度为'</span>, coffee.bili, <span class="string">'的咖啡'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> coffee2 = makeCoffee(<span class="number">2</span>, <span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'造出了纯度为'</span>, coffee2.bili, <span class="string">'的咖啡'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 复杂工厂模式</span></span><br><span class="line"><span class="comment">// 果汁厂(苹果汁, 橘子汁, 香蕉汁, ....)</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  *  果汁工厂</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FruitMaker</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  *  对外招商</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param </span>type 类型</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param </span>meta 材料</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">FruitMaker.prototype.make = <span class="function"><span class="keyword">function</span> (<span class="params">type, meta</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 2.1 根据传入, 检测, 是否具备生产能力</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span>[type] === <span class="string">'function'</span>) &#123;</span><br><span class="line">    <span class="comment">// 2.2 如果具备, 则使用某条生产线, 开始生产产品</span></span><br><span class="line">    <span class="keyword">var</span> func = <span class="keyword">this</span>[type];</span><br><span class="line">    <span class="comment">// 2.3 修改生产厂家(对外统一)</span></span><br><span class="line">    func.prototype = FruitMaker.prototype;</span><br><span class="line">    <span class="comment">// 2.3 返回产品</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> func(meta);</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">'很抱歉, 公司还不能生产这种产品, 后期会扩充生产线!'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 设置工厂具备能力-扩展生产线</span></span><br><span class="line">FruitMaker.prototype.extend = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">this</span>[key] = obj[key];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 工厂扩展生产线</span></span><br><span class="line">FruitMaker.prototype.extend(&#123;</span><br><span class="line">  <span class="string">'Apple'</span>: <span class="function"><span class="keyword">function</span> (<span class="params">meta</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'造了一杯苹果汁, 材料有:'</span>, meta);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">'Pear'</span>: <span class="function"><span class="keyword">function</span> (<span class="params">meta</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'造了一杯梨汁, 材料有:'</span>, meta);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 实例化水果工厂</span></span><br><span class="line"><span class="keyword">var</span> maker = <span class="keyword">new</span> FruitMaker();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> appleObj = maker.make(<span class="string">'Apple'</span>, <span class="string">'一个苹果, 一斤水'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(appleObj.constructor.name);</span><br><span class="line"><span class="keyword">var</span> pearObj = maker.make(<span class="string">'Pear'</span>, <span class="string">'两个梨, 一吨水'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(pearObj.constructor.name);</span><br><span class="line"><span class="keyword">var</span> buzhidao = maker.make(<span class="string">'xxx'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>单例模式，实现的方式可以有几种</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局变量的方式</span></span><br><span class="line"><span class="keyword">var</span> instance = <span class="literal">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tool</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. 判断</span></span><br><span class="line">  <span class="keyword">if</span> (instance) &#123;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 2. 指向</span></span><br><span class="line">  instance = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'撩课学院'</span>;</span><br><span class="line">  <span class="keyword">this</span>.intro = <span class="string">'喜欢IT, 就上撩课(itlike.com)'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 实例化</span></span><br><span class="line"><span class="keyword">var</span> t1 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="keyword">var</span> t2 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="keyword">var</span> t3 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="built_in">console</span>.log(t1 === t2);</span><br><span class="line"><span class="built_in">console</span>.log(t3 === t2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 即时函数的方式</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> instance = <span class="literal">null</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Tool</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 判断</span></span><br><span class="line">    <span class="keyword">if</span> (instance) &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2. 指向</span></span><br><span class="line">    instance = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'xx'</span>;</span><br><span class="line">    <span class="keyword">this</span>.intro = <span class="string">'喜欢IT'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">window</span>.Tool = Tool;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t1 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="keyword">var</span> t2 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="keyword">var</span> t3 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="built_in">console</span>.log(t1 === t2);</span><br><span class="line"><span class="built_in">console</span>.log(t1 === t3);</span><br><span class="line">t1.name = <span class="string">'itlike'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(t1);</span><br><span class="line"><span class="built_in">console</span>.log(t2);</span><br><span class="line"><span class="built_in">console</span>.log(t3);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 惰性函数单例的方式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tool</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> instance = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'张三'</span>;</span><br><span class="line">  <span class="keyword">this</span>.age = <span class="number">18</span>;</span><br><span class="line">  <span class="comment">// 惰性函数, 函数只会在第一次被执行, 后面直接调用</span></span><br><span class="line">  Tool = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*var t1 = new Tool();</span></span><br><span class="line"><span class="comment">var t2 = new Tool();</span></span><br><span class="line"><span class="comment">console.log(t1 === t2);*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t1 = <span class="keyword">new</span> Tool();</span><br><span class="line">Tool.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'跑'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> t2 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="built_in">console</span>.log(t1 === t2);</span><br><span class="line">t2.run();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 原型对象的方式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tool</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. 声明</span></span><br><span class="line">  <span class="keyword">var</span> instance = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">var</span> oldPrototype = Tool.prototype; <span class="comment">// 保存Tool的原型对象</span></span><br><span class="line">  Tool = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;;</span><br><span class="line">  Tool.prototype = oldPrototype;</span><br><span class="line">  instance = <span class="keyword">new</span> Tool();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 修正constructor</span></span><br><span class="line">  instance.constructor = Tool;</span><br><span class="line"></span><br><span class="line">  instance.name = <span class="string">'张三'</span>;</span><br><span class="line">  instance.age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Tool.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'跑'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t1 = <span class="keyword">new</span> Tool();</span><br><span class="line">Tool.prototype.desc = <span class="string">'xxx'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t2 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="keyword">var</span> t3 = <span class="keyword">new</span> Tool();</span><br><span class="line"><span class="keyword">var</span> t4 = <span class="keyword">new</span> Tool();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(t1 === t2);</span><br><span class="line"><span class="built_in">console</span>.log(t3 === t4);</span><br><span class="line"><span class="built_in">console</span>.log(t3 === t1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(t1.desc);</span><br><span class="line"><span class="built_in">console</span>.log(t2.desc);</span><br><span class="line"><span class="built_in">console</span>.log(t3.desc);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(t1.constructor);</span><br></pre></td></tr></table></figure>
</li>
<li><p>观察者模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 消息的发布者</span></span><br><span class="line"><span class="comment">// 可以让别人订阅某个消息</span></span><br><span class="line"><span class="comment">// 可以发布消息</span></span><br><span class="line"><span class="keyword">var</span> lk = &#123;</span><br><span class="line">  typeTargetAction: &#123;&#125;,</span><br><span class="line">  addUser: <span class="function"><span class="keyword">function</span> (<span class="params">type, target, action</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span>.typeTargetAction[type] === <span class="string">'undefined'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.typeTargetAction[type] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;<span class="attr">target</span>: target, <span class="attr">action</span>: action&#125;;</span><br><span class="line">    <span class="keyword">this</span>.typeTargetAction[type].push(obj);</span><br><span class="line">  &#125;,</span><br><span class="line">  publishMsg: <span class="function"><span class="keyword">function</span> (<span class="params">type, msgContent</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> targetActions = <span class="keyword">this</span>.typeTargetAction[type] || [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = targetActions.length; i &lt; len; i++) &#123;</span><br><span class="line">      <span class="keyword">var</span> obj = targetActions[i];</span><br><span class="line">      <span class="keyword">var</span> target = obj[<span class="string">'target'</span>];</span><br><span class="line">      <span class="keyword">var</span> action = obj[<span class="string">'action'</span>];</span><br><span class="line">      action.call(target, msgContent);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stu1 = &#123;<span class="attr">name</span>: <span class="string">'张三'</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> stu2 = &#123;<span class="attr">name</span>: <span class="string">'李四'</span>&#125;;</span><br><span class="line"></span><br><span class="line">lk.addUser(<span class="string">'h5'</span>, stu1, <span class="function"><span class="keyword">function</span> (<span class="params">msgContent</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(msgContent, <span class="string">'已推送'</span>, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">lk.addUser(<span class="string">'h5'</span>, stu2, <span class="function"><span class="keyword">function</span> (<span class="params">msgContent</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(msgContent, <span class="string">'已推送'</span>, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">lk.addUser(<span class="string">'java'</span>, stu1, <span class="function"><span class="keyword">function</span> (<span class="params">msgContent</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(msgContent, <span class="string">'已推送'</span>, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">lk.addUser(<span class="string">'python'</span>, stu2, <span class="function"><span class="keyword">function</span> (<span class="params">msgContent</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(msgContent, <span class="string">'已推送'</span>, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  广播消息</span></span><br><span class="line">lk.publishMsg(<span class="string">'h5'</span>, <span class="string">'H5学院消息: 今晚上课'</span>);</span><br><span class="line">lk.publishMsg(<span class="string">'java'</span>, <span class="string">'Java学院消息: 今晚不上课'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>策略模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Celue = &#123;</span><br><span class="line">  slow: <span class="function"><span class="keyword">function</span> (<span class="params">distance</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'慢速运动策略耗时:'</span>, distance * <span class="number">2</span>, <span class="string">'小时'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  normal: <span class="function"><span class="keyword">function</span> (<span class="params">distance</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'普通运动策略耗时:'</span>, distance, <span class="string">'小时'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  fast: <span class="function"><span class="keyword">function</span> (<span class="params">distance</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'快速运动策略耗时:'</span>, distance / <span class="number">2</span>, <span class="string">'小时'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PersonRun</span>(<span class="params">from, to</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.from = <span class="keyword">from</span>;</span><br><span class="line">  <span class="keyword">this</span>.to = to;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PersonRun.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params">celue</span>) </span>&#123;</span><br><span class="line">  celue(<span class="keyword">this</span>.to - <span class="keyword">this</span>.from);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> PersonRun(<span class="number">0</span>, <span class="number">20</span>);</span><br><span class="line">p.run(Celue.slow);</span><br><span class="line">p.run(Celue.normal);</span><br><span class="line">p.run(Celue.fast);</span><br></pre></td></tr></table></figure>
</li>
<li><p>模板模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fruit</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Fruit.prototype.make = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.water();</span><br><span class="line">  <span class="keyword">this</span>.cailiao();</span><br><span class="line">  <span class="keyword">this</span>.jiaoban();</span><br><span class="line">  <span class="keyword">this</span>.liangliang();</span><br><span class="line">&#125;;</span><br><span class="line">Fruit.prototype.water = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'烧好开水, 到开水'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Fruit.prototype.cailiao = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'必须由子类重写这个方法'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Fruit.prototype.jiaoban = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'搅拌搅拌'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Fruit.prototype.liangliang = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'凉一下, 就可以喝了'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Apple</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// 继承原型对象方法</span></span><br><span class="line">Apple.prototype = <span class="keyword">new</span> Fruit();</span><br><span class="line">Apple.prototype.cailiao = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'放苹果'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> apple = <span class="keyword">new</span> Apple();</span><br><span class="line"><span class="built_in">console</span>.log(apple);</span><br><span class="line">apple.make();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Pear</span>(<span class="params"></span>) </span>&#123;Fruit.call(<span class="keyword">this</span>);&#125;</span><br><span class="line"><span class="comment">// 继承原型对象方法</span></span><br><span class="line">Pear.prototype = <span class="keyword">new</span> Fruit();</span><br><span class="line">Pear.prototype.cailiao = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'放梨子'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> pear = <span class="keyword">new</span> Pear();</span><br><span class="line">pear.make();</span><br></pre></td></tr></table></figure>
</li>
<li><p>命令模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类似于, 点餐人员, 关注的是菜单;厨房老大关注的是分配,厨师关注的是做菜, 业务分离, 低耦合</span></span><br><span class="line"><span class="comment">// 厨师</span></span><br><span class="line"><span class="keyword">var</span> cook1 = &#123;<span class="attr">name</span>: <span class="string">'王二小'</span>, <span class="attr">make</span>: <span class="function"><span class="keyword">function</span> (<span class="params">foodType</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (foodType) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'tudou'</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="string">'做土豆'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'jidan'</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="string">'做鸡蛋'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'fanqie'</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="string">'做番茄'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'不会做'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cook2 = &#123;<span class="attr">name</span>: <span class="string">'王大小'</span>, <span class="attr">make</span>: <span class="function"><span class="keyword">function</span> (<span class="params">foodType</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (foodType) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'tudou'</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="string">'做土豆加辣椒'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'jidan'</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="string">'做鸡蛋加白糖'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'fanqie'</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="string">'做番茄加酱油'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'不会做'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务员点餐</span></span><br><span class="line"><span class="comment">// 服务员, 帮客人点菜</span></span><br><span class="line"><span class="keyword">var</span> foodList = [<span class="string">'tudou'</span>, <span class="string">'jidan'</span>, <span class="string">'fanqie'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 厨房根据菜单, 创建不同的命令, 分配给不同的厨师</span></span><br><span class="line"><span class="comment">// 点餐系统</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MakeFoodCommand</span>(<span class="params">cook, foodType</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.cook = cook;</span><br><span class="line">  <span class="keyword">this</span>.foodType = foodType;</span><br><span class="line">&#125;</span><br><span class="line">MakeFoodCommand.prototype.execute = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.cook.make(<span class="keyword">this</span>.foodType);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 点餐系统生成做菜命令</span></span><br><span class="line"><span class="comment">// ['tudou', 'jidan', 'fanqie'];</span></span><br><span class="line"><span class="keyword">var</span> commonds = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; foodList.length; i ++) &#123;</span><br><span class="line">  <span class="keyword">var</span> commond = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">2</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    commond = <span class="keyword">new</span> MakeFoodCommand(cook1, foodList[i]);</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    commond = <span class="keyword">new</span> MakeFoodCommand(cook2, foodList[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  commonds.push(commond);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(commonds);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始根据不同的规则, 让这些命令开始执行</span></span><br><span class="line">commonds.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">cmd</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(cmd);</span><br><span class="line">  cmd.execute();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</div><div class="tags"><a href="/tags/前端/">前端</a></div><div class="post-share"></div><div class="post-nav"><a href="/2020/01/25/vue学习心得/" class="pre">vue2.0学习心得</a><a href="/2019/11/27/记一次vue升级爬坑之旅/" class="next">记一次vue升级爬坑之旅</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、基础概念"><span class="toc-text">1、基础概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、浅拷贝和深拷贝"><span class="toc-text">2、浅拷贝和深拷贝</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、原型链继承"><span class="toc-text">3、原型链继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、设计模式"><span class="toc-text">4、设计模式</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/07/04/如何阅读一本书/">如何阅读一本书 - 莫提默·J.艾德勒</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/22/沟通训练营/">沟通训练营</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/20/typescript学习笔记/">typescript学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/12/阐述__proto__和prototype的关系/">阐述__proto__和prototype的关系</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/求无序数组第几大的数字/">求无序数组第几大的数字</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/02/13/call、apply、bind探索之路/">call、apply、bind探索之路</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/25/vue学习心得/">vue2.0学习心得</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/04/js基础和设计模式/">js基础和设计模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/27/记一次vue升级爬坑之旅/">记一次vue升级爬坑之旅</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/06/scrollload插件使用小结/">scrollload插件使用小结</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Jquery/">Jquery</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mockjs/">Mockjs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Seajs/">Seajs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gulp/">gulp</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/less/">less</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/react/">react</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/requirejs/">requirejs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/typescript/">typescript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack/">webpack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习/">学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/插件/">插件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/">笔记</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://github.com/liwenxin-jam/" title="个人github" target="_blank">个人github</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><span> Copyright &copy;<a href="/." rel="nofollow">黎文欣.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script></body></html>