<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="liwenxin-jam's blog"><meta name="keywords" content="liwenxin, jam, blog, 个人博客"><title>Dom与Jquery区别比较 | 前端工程狮_jam</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Dom与Jquery区别比较</h1><a id="logo" href="/.">前端工程狮_jam</a><p class="description">人都会成长，过程在自己</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="请输入关键字"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Dom与Jquery区别比较</h1><div class="post-meta"><p><span class="date">Jan 07, 2017</span><span><a href="/categories/Jquery/" class="category">Jquery</a></span></p></div><div class="post-content"><p>DOM 是文档对象模型（Document Object Model，简称 DOM），jQuery 是一个 JavaScript 库，极大地简化了 JavaScript 编程。注意 dom 对象与 jquery 对象，如果需要详情了解可以参考 w3c 网址和 jQuery<a href="https://http://jquery.com/" target="_blank" rel="noopener">官网</a>。</p>
<h2 id="自定义-getElementsByClassName-方法"><a href="#自定义-getElementsByClassName-方法" class="headerlink" title="自定义 getElementsByClassName 方法"></a>自定义 getElementsByClassName 方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义getElementsByClassName方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getElementsByClassName</span>(<span class="params">node, className</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (node.getElementsByClassName) &#123;</span><br><span class="line">    <span class="comment">//  使用现有方法 getElementsByClassName只会获取父级下的所有子类符合条件的，而不是从当前级别开始查找</span></span><br><span class="line">    <span class="keyword">return</span> node.getElementsByClassName(className);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> results = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    <span class="keyword">var</span> elems = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'*'</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; elems.length; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (elems[i].className.indexOf(className) != <span class="number">-1</span>) &#123;</span><br><span class="line">        results[results.length] = elems[i];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> dom = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>);</span><br><span class="line"><span class="keyword">var</span> selector = getElementsByClassName(dom, <span class="string">'box'</span>);</span><br></pre></td></tr></table></figure>
<h2 id="window-onload-的处理机制与用法，以及与-document-ready-function-的区别"><a href="#window-onload-的处理机制与用法，以及与-document-ready-function-的区别" class="headerlink" title="window.onload 的处理机制与用法，以及与$(document).ready(function(){})的区别"></a>window.onload 的处理机制与用法，以及与$(document).ready(function(){})的区别</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  window.onload 网页加载完毕后会触发一个onload事件，每个事件处理函数只能绑定一条指定</span></span><br><span class="line"><span class="built_in">window</span>.onload = firstFunc;</span><br><span class="line"><span class="built_in">window</span>.onload = secondFunc;  <span class="comment">// 只会触发第二个</span></span><br><span class="line"><span class="comment">//  解决方案一</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; firstFunc(); secondFunc();&#125;  <span class="comment">// 创建匿名函数容纳两个函数</span></span><br><span class="line"><span class="comment">//  解决方案二</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addLoadEvent</span>(<span class="params">func</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> oldOnLoad = <span class="built_in">window</span>.onload;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> oldOnLoad != <span class="string">"function"</span>)&#123;</span><br><span class="line">        <span class="built_in">window</span>.onload = func;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            oldOnLoad();</span><br><span class="line">            func();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">firstFunc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'111111111'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">secondFunc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'222222222'</span>);</span><br><span class="line">&#125;</span><br><span class="line">addLoadEvent(firstFunc);</span><br><span class="line">addLoadEvent(secondFunc);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  效果类似window.onload，window.onload是必须等待网页中所有的内容加载完比后(包括图片)才能执行。document.ready是网页中所有DOM结构绘制完毕就执行，可能DOM元素所关联的东西并没有加载完(例如图片)。也就是说$(document).ready要比window.onload先执行。</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;）<span class="comment">//  可以简写为 $(function()&#123;&#125;)，可以重复绑定多个初始化</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello World!"</span>);</span><br><span class="line">    $(<span class="keyword">this</span>).addClass(<span class="string">"highlight"</span>).children(<span class="string">"a"</span>).show().end().siblings().removeClass(<span class="string">"highlight"</span>).children(<span class="string">"a"</span>).hide();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="节点属性和节点方法"><a href="#节点属性和节点方法" class="headerlink" title="节点属性和节点方法"></a>节点属性和节点方法</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> &#123;</span></span><br><span class="line">    font-size: 20px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span> <span class="attr">class</span>=<span class="string">"container"</span> <span class="attr">style</span>=<span class="string">"font-size: 30px;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"text"</span>&gt;</span>text<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// nodeType 节点类型，1是标签节点 2属性节点 3是文本节点</span></span><br><span class="line"><span class="comment">// nodeValue 节点值，主要是针对文本节点的值，类似jq的text</span></span><br><span class="line"><span class="comment">// nodeName 节点名称，返回的字符串是全大写，例如 DIV/IMG等</span></span><br><span class="line"><span class="comment">// childNodes 孩子节点数量，包括元素节点和文本节点</span></span><br><span class="line"><span class="comment">// style.property 获取自身的样式，需要引用中间带一个减号的CSS属性，例如font-size需要转变成驼峰命名法fontSize。</span></span><br><span class="line"><span class="comment">// style.property这种方式只能获取元素的行内样式，无法获取浏览器默认样式和它的ID选择器或者类选择器附带的样式</span></span><br><span class="line"><span class="comment">// className 任何一个元素节点都有一个className</span></span><br><span class="line"><span class="keyword">var</span> dom = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>);</span><br><span class="line">dom.nodeName; <span class="comment">// DIV</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>);</span><br><span class="line">text.nodeType; <span class="comment">// 1</span></span><br><span class="line">text.firstChild.nodeType; <span class="comment">// 3</span></span><br><span class="line">text.firstChild.nodeValue; <span class="comment">// text</span></span><br><span class="line">dom.childNodes; <span class="comment">// 5</span></span><br><span class="line">dom.style.fontSize; <span class="comment">// 30px</span></span><br><span class="line">dom.className; <span class="comment">// container</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  filter方法可以筛选过滤条件</span></span><br><span class="line">$(<span class="string">'ul li:gt(5):not(:last)'</span>); <span class="comment">// 获得索引值大于5的，但不包含最后一个的所有li元素</span></span><br><span class="line">$(<span class="string">'ul li'</span>)</span><br><span class="line">  .filter(<span class="string">":contains('苹果'),:contains('香蕉'),:contains('雪梨')"</span>)</span><br><span class="line">  .addClass(<span class="string">'highlight'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  删除节点  remove()删除包括自身和后代所有元素 empty()只删除后代所有元素，不清空自身</span></span><br><span class="line">$(<span class="string">'div'</span>).remove();</span><br><span class="line">$(<span class="string">'div'</span>).empty();</span><br><span class="line"></span><br><span class="line"><span class="comment">//  复制节点 clone(flag)  flag为true代表绑定事件也复制，默认不复制</span></span><br><span class="line">$(<span class="string">'#test'</span>).clone(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  替换节点 replaceWith和 replaceAll</span></span><br><span class="line">$(<span class="string">'p'</span>).replaceWith(<span class="string">'&lt;span&gt;test&lt;/span&gt;'</span>) ==</span><br><span class="line">  $(<span class="string">'&lt;span&gt;test&lt;/span&gt;'</span>).replaceAll(<span class="string">'p'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 包裹节点 wrap() 和 wrapAll() 前者是匹配的都重新包一层，后者是把所有匹配的只包最外一层(慎用，会改变dom结构)</span></span><br><span class="line"><span class="comment">// wrapInner 匹配元素里面的把文本节点包一层</span></span><br><span class="line">$(<span class="string">'span'</span>).wrap(<span class="string">'&lt;strong&gt;&lt;/strong&gt;'</span>);</span><br><span class="line">$(<span class="string">'span'</span>).wrapAll(<span class="string">'&lt;strong&gt;&lt;/strong&gt;'</span>);</span><br><span class="line">$(<span class="string">'span'</span>).wrapInner(<span class="string">'&lt;strong&gt;&lt;/strong&gt;'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 切换样式，控制行为上的重复切换。如果是原来就显示则隐藏，否则相反。</span></span><br><span class="line">$(<span class="string">'#test'</span>).toggle(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//显示元素</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//隐藏元素</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 样式重复切换，效果类似前者toggle切换</span></span><br><span class="line">$(<span class="string">'#test'</span>).toggleClass(<span class="string">'myClass'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否有某个样式</span></span><br><span class="line">$(<span class="string">'#test'</span>).hasClass(<span class="string">'myClass'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断元素是否显示，可以使用jq方式的is</span></span><br><span class="line">$(<span class="string">'#panel box'</span>).bind(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> ($(<span class="keyword">this</span>).next(<span class="string">'div.btn'</span>).is(<span class="string">'visible'</span>)) &#123;</span><br><span class="line">    <span class="comment">//  如果已经显示就隐藏，do something</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="创建元素节点和文本节点增加给某个父级"><a href="#创建元素节点和文本节点增加给某个父级" class="headerlink" title="创建元素节点和文本节点增加给某个父级"></a>创建元素节点和文本节点增加给某个父级</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> container = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>);</span><br><span class="line"><span class="keyword">var</span> dom = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line"><span class="keyword">var</span> text = <span class="built_in">document</span>.createTextNode(<span class="string">"This's my content"</span>);</span><br><span class="line">dom.appendChild(text);</span><br><span class="line">container.appendChild(dom);</span><br><span class="line">parentElement.insertBefore(newElement, targetElement);</span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line">box.parentNode.insertBefore(dom, box);</span><br></pre></td></tr></table></figure>
<h2 id="Dom-原生-Ajax-请求"><a href="#Dom-原生-Ajax-请求" class="headerlink" title="Dom 原生 Ajax 请求"></a>Dom 原生 Ajax 请求</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getHTTPObject</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> XMLHttpRequest == <span class="string">'undefined'</span>) &#123;</span><br><span class="line">    XMLHttpRequest = <span class="keyword">new</span> ActiveXObject(<span class="string">'MSXML2.XMLHTTP'</span>); <span class="comment">//  兼容IE</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  获取服务端数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getContent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> request = getHTTPObject();</span><br><span class="line">  <span class="keyword">if</span> (request) &#123;</span><br><span class="line">    <span class="comment">//  第一个参数是访问请求类型GET POST SEND,</span></span><br><span class="line">    <span class="comment">//  第二个参数是数据来源地址，一般指服务器接口</span></span><br><span class="line">    <span class="comment">//  第三个参数代表是否异步方式发送和处理</span></span><br><span class="line">    request.open(<span class="string">'GET'</span>, <span class="string">'data.json'</span>, <span class="literal">true</span>);</span><br><span class="line">    request.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">//  readyState有5种值，0是未初始化 1是正在加载 2是加载完毕 3是正在交互 4是完成</span></span><br><span class="line">      <span class="keyword">if</span> (request.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(request.responseText);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    request.send(<span class="literal">null</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    alert(<span class="string">'Sorry, Error'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="addClass-和-insertAfter-实现原理"><a href="#addClass-和-insertAfter-实现原理" class="headerlink" title="addClass 和 insertAfter 实现原理"></a>addClass 和 insertAfter 实现原理</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  给元素增加样式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">element, className</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!element.className) &#123;</span><br><span class="line">    element.className = className;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    element.className += <span class="string">' '</span> + className;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">addClass(<span class="built_in">document</span>.getElementById(<span class="string">'test'</span>), <span class="string">'addCustomerClass'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  默认没有insertAfter，可以借助nextSibling实现</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertAfter</span>(<span class="params">newElement, targetElement</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> parent = targetElement.parentNode;</span><br><span class="line">  <span class="keyword">if</span> (parent.lastChild == targetElement) &#123;</span><br><span class="line">    parent.appendChild(newElement);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    parent.insertBefore(newElement, targetElement.nextSibling);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="canvas-实践"><a href="#canvas-实践" class="headerlink" title="canvas 实践"></a>canvas 实践</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"120"</span> <span class="attr">height</span>=<span class="string">"40"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Power by Html5 Canvas<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  canvas原点(0,0)位于左上角，越往右x的值越大，右往下的y的越大</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span><br><span class="line">  <span class="keyword">if</span> (canvas.getContext) &#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.moveTo(<span class="number">120.0</span>, <span class="number">32.0</span>); <span class="comment">// 从某起点开始画</span></span><br><span class="line">    <span class="comment">//  三次贝塞尔曲线需要三个点。前两个点是用于三次贝塞尔计算中的控制点，第三个点是曲线的结束点。曲线的开始点是当前路径中最后一个点。</span></span><br><span class="line">    ctx.bezierCurveTo(<span class="number">120.0</span>, <span class="number">36.4</span>, <span class="number">116.4</span>, <span class="number">40.0</span>, <span class="number">112.0</span>, <span class="number">40.0</span>); <span class="comment">//  绘制一条三次贝塞尔曲线</span></span><br><span class="line">    ctx.lineTo(<span class="number">8.0</span>, <span class="number">40.0</span>); <span class="comment">// 画一条线</span></span><br><span class="line">    ctx.bezierCurveTo(<span class="number">3.6</span>, <span class="number">40.0</span>, <span class="number">0.0</span>, <span class="number">36.4</span>, <span class="number">0.0</span>, <span class="number">32.0</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">0.0</span>, <span class="number">8.0</span>);</span><br><span class="line">    ctx.bezierCurveTo(<span class="number">0.0</span>, <span class="number">3.6</span>, <span class="number">3.6</span>, <span class="number">0.0</span>, <span class="number">8.0</span>, <span class="number">0.0</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">112.0</span>, <span class="number">0.0</span>);</span><br><span class="line">    ctx.bezierCurveTo(<span class="number">116.4</span>, <span class="number">0.0</span>, <span class="number">120.0</span>, <span class="number">3.6</span>, <span class="number">120.0</span>, <span class="number">8.0</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">120.0</span>, <span class="number">32.0</span>);</span><br><span class="line">    ctx.closePath();</span><br><span class="line">    ctx.fillStyle = <span class="string">'green'</span>; <span class="comment">// 填充颜色</span></span><br><span class="line">    ctx.fill();</span><br><span class="line">    ctx.lineWidth = <span class="number">2.0</span>; <span class="comment">// 线宽度</span></span><br><span class="line">    ctx.strokeStyle = <span class="string">'#0000ff'</span>; <span class="comment">// 线颜色</span></span><br><span class="line">    <span class="comment">// ctx.strokeStyle = "rgb(255,255,255)";</span></span><br><span class="line">    ctx.stroke();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onload = draw();</span><br></pre></td></tr></table></figure>
<h2 id="dom-方式与-Jquery-获取元素方式和判断对象是否为空"><a href="#dom-方式与-Jquery-获取元素方式和判断对象是否为空" class="headerlink" title="dom 方式与 Jquery 获取元素方式和判断对象是否为空"></a>dom 方式与 Jquery 获取元素方式和判断对象是否为空</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dom方式与Jquery方式</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'test'</span>).innerHTML == $(<span class="string">'#test'</span>).html();</span><br><span class="line"><span class="keyword">var</span> text = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>);</span><br><span class="line">((text.firstChild.nodeValue == text.innerText) == text.textContent) ==</span><br><span class="line">  $(<span class="string">'#text'</span>).text();</span><br><span class="line"><span class="comment">// dom对象是否存在</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'xx'</span>).style.color = <span class="string">'red'</span>; <span class="comment">//报错，打不到ID为xx的dom对象</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">'xx'</span>)) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  jq对象是否存在</span></span><br><span class="line">$(<span class="string">'#xx'</span>).css(<span class="string">'color'</span>, <span class="string">'red'</span>); <span class="comment">//  不报错，找不到对象会忽略，jq方式访问永远会返回的是一个对象</span></span><br><span class="line"><span class="keyword">if</span> ($(<span class="string">'#xx'</span>)) &#123;</span><br><span class="line">&#125; <span class="comment">//  不允许这样判断是否存在</span></span><br><span class="line"><span class="keyword">if</span> ($(<span class="string">'#xx'</span>).length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">&#125; <span class="comment">//  根据元素的长度去判断，推荐</span></span><br><span class="line"><span class="keyword">if</span> ($(<span class="string">'#xx'</span>)[<span class="number">0</span>]) &#123;</span><br><span class="line">&#125; <span class="comment">//  dom对象方式去判断</span></span><br></pre></td></tr></table></figure>
<h2 id="dom-对象与-jq-对象互转"><a href="#dom-对象与-jq-对象互转" class="headerlink" title="dom 对象与 jq 对象互转"></a>dom 对象与 jq 对象互转</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dom与jq互转，jq对象只能用jq方法，dom对象只能用内置的dom方法，不能互窜</span></span><br><span class="line">$(<span class="string">'#test'</span>); <span class="comment">//  jq对象</span></span><br><span class="line">$(<span class="string">'#test'</span>)[<span class="number">0</span>]; <span class="comment">// dom对象</span></span><br><span class="line">$(<span class="string">'#test'</span>).get(<span class="number">0</span>); <span class="comment">// dom对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dom = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>); <span class="comment">// dom对象</span></span><br><span class="line">$(dom); <span class="comment">//  jq对象</span></span><br></pre></td></tr></table></figure>
<h2 id="checkbox-是否选中判断方式"><a href="#checkbox-是否选中判断方式" class="headerlink" title="checkbox 是否选中判断方式"></a>checkbox 是否选中判断方式</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"ck"</span> <span class="attr">checked</span>=<span class="string">"true"</span> /&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"ck"</span>&gt;</span>同意<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ck = <span class="built_in">document</span>.getElementById(<span class="string">'ck'</span>);</span><br><span class="line"><span class="keyword">if</span> (ck.checked) &#123;</span><br><span class="line">  <span class="comment">//  dom方式判断</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'checked'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ($(ck).is(<span class="string">':checked'</span>)) &#123;</span><br><span class="line">  <span class="comment">//  jq方式判断</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'checked'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="dom-与-jquery-等价关系"><a href="#dom-与-jquery-等价关系" class="headerlink" title="dom 与 jquery 等价关系"></a>dom 与 jquery 等价关系</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.one+div'</span>) == $(<span class="string">'.one'</span>).next(<span class="string">'div'</span>); <span class="comment">//  选择.one后下一个相邻的div标签</span></span><br><span class="line">$(<span class="string">'#prev~div'</span>) == $(<span class="string">'#prev'</span>).nextAll(<span class="string">'div'</span>); <span class="comment">// 选择#prev后所有同级的div标签</span></span><br><span class="line">$(<span class="string">'#prev'</span>).siblings(<span class="string">'div'</span>); <span class="comment">//  选择#prev所有同级的div标签，无论前后位置</span></span><br><span class="line"><span class="comment">// 创建元素节点</span></span><br><span class="line"><span class="built_in">document</span>.createElement(<span class="string">'li'</span>) == $(<span class="string">'&lt;li&gt;&lt;/li&gt;'</span>);</span><br><span class="line"><span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>).appendChild(li) == $(<span class="string">'ul'</span>).append(<span class="string">'&lt;li&gt;&lt;/li&gt;'</span>);</span><br><span class="line"><span class="comment">//  创建文本节点</span></span><br><span class="line"><span class="keyword">var</span> dom = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line"><span class="keyword">var</span> text = <span class="built_in">document</span>.createTextNode(<span class="string">"This's my content"</span>);</span><br><span class="line">dom.appendChild(text);</span><br><span class="line"><span class="comment">//  等价于以下的jq方式</span></span><br><span class="line">$(<span class="string">"&lt;p&gt;This's my content&lt;/p&gt;"</span>);</span><br><span class="line"><span class="comment">//  创建属性节点</span></span><br><span class="line"><span class="keyword">var</span> dom = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line"><span class="keyword">var</span> title = dom.setAttribute(<span class="string">'title'</span>, <span class="string">'标题'</span>);</span><br><span class="line">dom.appendChild(text);</span><br><span class="line"><span class="comment">//  等价于以下的jq方式</span></span><br><span class="line"><span class="keyword">var</span> p = $(<span class="string">"&lt;p title='标题'&gt;&lt;/p&gt;"</span>);</span><br><span class="line">$(<span class="string">'body'</span>).append(p);</span><br><span class="line"><span class="comment">// 注意append prepend是元素内部后置插入/前置插入，和appendTo prependTo是跟前面两个操作颠倒，例如是$("&lt;p&gt;This's my content&lt;/p&gt;").appendTo('body');</span></span><br><span class="line"><span class="comment">// after before是匹配元素后面插入/前面插入 和 insertAfter insertBefore是跟前面两个操作颠倒</span></span><br></pre></td></tr></table></figure>
<h2 id="jquery-过滤器"><a href="#jquery-过滤器" class="headerlink" title="jquery 过滤器"></a>jquery 过滤器</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  基本过滤选择器</span></span><br><span class="line">$(<span class="string">'div:first'</span>); <span class="comment">//  选择所有div标签元素中的第一个div元素</span></span><br><span class="line">$(<span class="string">'div:last'</span>); <span class="comment">// 选择所有div标签元素中的最后一个div元素</span></span><br><span class="line">$(<span class="string">'div:not(.myClass)'</span>); <span class="comment">//  选择class类不包含myClass的所有div标签元素</span></span><br><span class="line">$(<span class="string">'div:odd'</span>); <span class="comment">//  选择索引是奇数的所有div标签元素</span></span><br><span class="line">$(<span class="string">'div:even'</span>); <span class="comment">// 选择索引是偶数的所有div标签元素</span></span><br><span class="line">$(<span class="string">'div:eq(0)'</span>); <span class="comment">//  index从0开始算起，有扩展是  :gt(index)大于index不包括自身  :lt(index)小于index不包括自身</span></span><br><span class="line">$(<span class="string">':header'</span>); <span class="comment">//  所有h标签元素</span></span><br><span class="line">$(<span class="string">':animated'</span>); <span class="comment">//  所有当前正在执行动画的所有元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  内容过滤选择器</span></span><br><span class="line">$(<span class="string">"div:contains('测试')"</span>); <span class="comment">// 选取文本内容包含'测试'的元素</span></span><br><span class="line">$(<span class="string">'div:empty'</span>); <span class="comment">//  选取不包含子元素或者文本的空元素</span></span><br><span class="line">$(<span class="string">'div:has(p)'</span>); <span class="comment">// 选取含有p元素的div元素</span></span><br><span class="line">$(<span class="string">'div:parent'</span>); <span class="comment">// 选取含有子元素或者文本的div元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  可见性过滤选择器</span></span><br><span class="line">$(<span class="string">':hidden'</span>); <span class="comment">//  选取所有不可见的元素</span></span><br><span class="line">$(<span class="string">'div:visible'</span>); <span class="comment">//  选取所有可见的div元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  属性过滤选择器</span></span><br><span class="line">$(<span class="string">'div[id]'</span>); <span class="comment">//  选取含有id属性的所有div元素</span></span><br><span class="line">$(<span class="string">'div[title=test]'</span>); <span class="comment">//  选取含有title属性为test的所有div元素</span></span><br><span class="line">$(<span class="string">'div[title!=test]'</span>); <span class="comment">// 选取title属性不等于test的所有div元素(注意没有title属性也会被选中)</span></span><br><span class="line">$(<span class="string">'div[title=test]'</span>); <span class="comment">//  选取含有title属性为test的所有div元素</span></span><br><span class="line">$(<span class="string">'div[title^=test]'</span>); <span class="comment">// 选取含有title属性以test开头的所有div元素</span></span><br><span class="line">$(<span class="string">'div[title$=test]'</span>); <span class="comment">// 选取含有title属性以test结尾的所有div元素</span></span><br><span class="line">$(<span class="string">'div[title*=test]'</span>); <span class="comment">// 选取含有title属性含有test的所有div元素</span></span><br><span class="line">$(<span class="string">'div[id][title*=test]'</span>); <span class="comment">// 选取含有id属性并含有title属性为test的所有div元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  子元素过滤选择器</span></span><br><span class="line">$(<span class="string">'div:nth-child(3n+1)'</span>); <span class="comment">//  :nth-child(index/odd/even) n从0开始算，index从1开始算起，区别eq(0)。可以选取奇偶数</span></span><br><span class="line">$(<span class="string">'ul li:first-child'</span>); <span class="comment">//  选取每个ul中第一个li元素</span></span><br><span class="line">$(<span class="string">'ul li:last-child'</span>); <span class="comment">// 选取每个ul中最后一个li元素</span></span><br><span class="line">$(<span class="string">'ul li:only-child'</span>); <span class="comment">// 选取每个ul中只有唯一一个li元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  表单对象属性选择器</span></span><br><span class="line">$(<span class="string">'#form1:enabled'</span>); <span class="comment">// 选取id为form1的表单内所有可用元素</span></span><br><span class="line">$(<span class="string">'#form1:disabled'</span>); <span class="comment">//  选取id为form1的表单内所有不可用元素</span></span><br><span class="line">$(<span class="string">'input:checked'</span>); <span class="comment">//  选取所有被选中的input元素</span></span><br><span class="line">$(<span class="string">'select:selected'</span>); <span class="comment">//  选取所有被选中的选项元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  表单选择器</span></span><br><span class="line">$(<span class="string">':input'</span>); <span class="comment">// 选取所有input textarea select button元素</span></span><br><span class="line">$(<span class="string">':text'</span>); <span class="comment">//  选取所有单行文本框元素</span></span><br><span class="line">$(<span class="string">':password'</span>); <span class="comment">//  选取所有的密码框元素</span></span><br><span class="line">$(<span class="string">':radio'</span>); <span class="comment">// 选取所有的单选框元素</span></span><br><span class="line">$(<span class="string">':checkbox'</span>); <span class="comment">//  选取所有的复选框元素</span></span><br><span class="line">$(<span class="string">':submit'</span>); <span class="comment">//  选取所有的提交按钮</span></span><br><span class="line">$(<span class="string">':image'</span>); <span class="comment">// 选取所有的图像按钮</span></span><br><span class="line">$(<span class="string">':reset'</span>); <span class="comment">// 选取所有的重置按钮</span></span><br><span class="line">$(<span class="string">':button'</span>); <span class="comment">//  选取所有的button按钮</span></span><br><span class="line">$(<span class="string">':file'</span>); <span class="comment">//  选取所有的文件上传域</span></span><br><span class="line">$(<span class="string">':hidden'</span>); <span class="comment">//  选取所有不可见元素</span></span><br></pre></td></tr></table></figure>
<h2 id="jq-事件和鼠标移入移出效果实现"><a href="#jq-事件和鼠标移入移出效果实现" class="headerlink" title="jq 事件和鼠标移入移出效果实现"></a>jq 事件和鼠标移入移出效果实现</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"tooltip"</span>&gt;</span>测试鼠标悬浮移入移出功能<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'input'</span>).focus(); <span class="comment">//  获取焦点事件</span></span><br><span class="line">$(<span class="string">'input'</span>).blur(); <span class="comment">// 失去焦点事件</span></span><br><span class="line">$(<span class="string">'div'</span>).children(); <span class="comment">// 获取匹配的元素下的所有子元素，而不考虑后代元素和文本节点</span></span><br><span class="line">$(<span class="string">'div'</span>).next(); <span class="comment">// 获取匹配的元素后面相邻的同辈元素</span></span><br><span class="line">$(<span class="string">'div'</span>).prev(); <span class="comment">// 获取匹配的元素前面相邻的同辈元素</span></span><br><span class="line">$(<span class="string">'div'</span>).siblings(); <span class="comment">// 获取匹配的元素前后所有的同辈元素</span></span><br><span class="line">$(<span class="string">'div'</span>).closest(); <span class="comment">//  获取最近的匹配元素，首先判断当前元素是否匹配，不匹配就继续往父级查找，一直查找不到返回一个空对象</span></span><br><span class="line"><span class="comment">//  此外还有find() filter() nextAll() prevAll() parent() parents()等等方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  前者返回实际高度，不带单位，后者返回可能是样式，例如是auto</span></span><br><span class="line">$(<span class="string">'#test'</span>).heigth() != $(<span class="string">'#test'</span>).css(<span class="string">'height'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  获取元素在当前视窗相对偏移量，返回对象包含两个属性，即top和left，它只对可见元素可效</span></span><br><span class="line">$(<span class="string">'div'</span>).offset();</span><br><span class="line"><span class="comment">//  获取元素相对于最近的一个祖父级样式设为relative或absolute的相对偏移量，返回对象跟offset()一样</span></span><br><span class="line">$(<span class="string">'div'</span>).position();</span><br><span class="line"><span class="comment">//  scrollTop() scrollLeft()  //  分别获取元素的滚动条距离顶端和左侧的距离，也可以设参数赋值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  mouseover() mouseout() 鼠标移入移出效果，也可以用hover的方式实现 hover(enter,leave)</span></span><br><span class="line"><span class="comment">//  方式一</span></span><br><span class="line">$(<span class="string">'a.tooltip'</span>)</span><br><span class="line">  .mouseover(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tooltip = <span class="string">"&lt;div id='tooltip'&gt;我是弹出框提示&lt;/div&gt;"</span>;</span><br><span class="line">    $(<span class="string">'body'</span>).append(tooltip);</span><br><span class="line">    $(<span class="string">'#tooltip'</span>)</span><br><span class="line">      .css(&#123;</span><br><span class="line">        top: e.pageY + <span class="string">'px'</span>,</span><br><span class="line">        left: e.pageX + <span class="string">'px'</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .show(<span class="string">'fast'</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .mouseout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'#tooltip'</span>).remove();</span><br><span class="line">  &#125;)</span><br><span class="line">  .mousemove(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'#tooltip'</span>).css(&#123;</span><br><span class="line">      top: e.pageY + <span class="string">'px'</span>,</span><br><span class="line">      left: e.pageX + <span class="string">'px'</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">//  方式二</span></span><br><span class="line">$(<span class="string">'a.tooltip'</span>).hover(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tooltip = <span class="string">"&lt;div id='tooltip'&gt;我是弹出框提示&lt;/div&gt;"</span>;</span><br><span class="line">    $(<span class="string">'body'</span>).append(tooltip);</span><br><span class="line">    $(<span class="string">'#tooltip'</span>)</span><br><span class="line">      .css(&#123;</span><br><span class="line">        top: e.pageY + <span class="string">'px'</span>,</span><br><span class="line">        left: e.pageX + <span class="string">'px'</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .show(<span class="string">'fast'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'#tooltip'</span>).remove();</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>事件绑定</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 事件绑定可以用bind和on，删除事件绑定用unbind</span></span><br><span class="line">$(<span class="string">"#panel box"</span>).bind(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;) 等价于 $(<span class="string">"#panel box"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br><span class="line">$(<span class="string">"#panel box"</span>).bind(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;) 等价于 $(<span class="string">"#panel box"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br><span class="line">$(<span class="string">"#panel box"</span>).unbind();  <span class="comment">// 不带任何参数，全部事件类型的绑定事件被删除</span></span><br><span class="line">$(<span class="string">"#panel box"</span>).unbind(<span class="string">"click"</span>);  <span class="comment">//  只带事件类型参数，只会删除所有事件类型的绑定方法</span></span><br><span class="line">$(<span class="string">"#panel box"</span>).unbind(<span class="string">"click"</span>, funcName);  <span class="comment">//  只删除事件类型一致且方法一样的绑定方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 一次性绑定多个事件类型，用空格隔开多个事件类型</span></span><br><span class="line">$(<span class="string">"#panel box"</span>).bind(<span class="string">"mouseover mouseout"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).toggleClass(<span class="string">'over'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只想绑定事件触发一次用one，用法类似bind</span></span><br><span class="line">$(<span class="string">"#panel box"</span>).one(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主动触发绑定事件可以用trigger</span></span><br><span class="line">$(<span class="string">"input"</span>).trigger(<span class="string">"focus"</span>) <span class="comment">//  不仅会触发input上绑定的focus事件，也会使input获得焦点(默认行为)</span></span><br><span class="line">$(<span class="string">"input"</span>).triggerHandler(<span class="string">"focus"</span>) <span class="comment">// 只会触发input上绑定的focus事件，不会获取焦点</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  事件对象的属性</span></span><br><span class="line">$(<span class="string">"a"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(event.type);  <span class="comment">//  事件的类型，返回click</span></span><br><span class="line">    event.preventDefault();   <span class="comment">//  阻止事件的默认行为</span></span><br><span class="line">    event.stopPropagation();  <span class="comment">//  阻止事件的向上(父级)冒泡行为</span></span><br><span class="line">    event.target; <span class="comment">//  获取触发事件的元素本身对象</span></span><br><span class="line">    event.relatedTarget; <span class="comment">// 属性的返回值是不确定的，这取决于触发事件的具体行为，返回的是相关元素</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 阻止链接跳转</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="自定义-animate-动画"><a href="#自定义-animate-动画" class="headerlink" title="自定义 animate 动画"></a>自定义 animate 动画</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  fadeIn() fadeOut()  //淡入淡出功能，参数是 fast/slow/normal/1000(毫秒)</span></span><br><span class="line"><span class="comment">//  fadeTo(speed, opacityVal) //eg:fadeTo(600, 0.2)</span></span><br><span class="line"><span class="comment">//  slideDown() slideUp()  当某个元素dispaly为none时候，slideDown从上到下延伸，参数跟fadeIn一样</span></span><br><span class="line"><span class="comment">//  slideToggle()  跟slideDown() slideUp()切换效果一致</span></span><br><span class="line"><span class="comment">//  自定义animate(params, speed, callback)动画</span></span><br><span class="line"><span class="comment">//  停止动画用stop(flag) 没指定参数时候只会停止当前正在执行的动画，如果flag为true，还会清空所有的动画队列</span></span><br><span class="line">$(<span class="string">'#panel1'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="keyword">this</span>).animate(&#123; <span class="attr">left</span>: <span class="string">'+=500px'</span>, <span class="attr">height</span>: <span class="string">'200px'</span> &#125;, <span class="number">300</span>); <span class="comment">//  两个距离同时发生</span></span><br><span class="line">  $(<span class="keyword">this</span>).animate(&#123; <span class="attr">left</span>: <span class="string">'+=500px'</span> &#125;, <span class="number">300</span>).animate(&#123; <span class="attr">height</span>: <span class="string">'200px'</span> &#125;, <span class="number">300</span>); <span class="comment">// 链式写法，一个接一个</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/笔记/">笔记</a></div><div class="post-share"></div><div class="post-nav"><a href="/2017/02/13/text-align的justify小实践/" class="pre">text-align的justify小实践</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义-getElementsByClassName-方法"><span class="toc-text">自定义 getElementsByClassName 方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#window-onload-的处理机制与用法，以及与-document-ready-function-的区别"><span class="toc-text">window.onload 的处理机制与用法，以及与$(document).ready(function(){})的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#节点属性和节点方法"><span class="toc-text">节点属性和节点方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建元素节点和文本节点增加给某个父级"><span class="toc-text">创建元素节点和文本节点增加给某个父级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dom-原生-Ajax-请求"><span class="toc-text">Dom 原生 Ajax 请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#addClass-和-insertAfter-实现原理"><span class="toc-text">addClass 和 insertAfter 实现原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#canvas-实践"><span class="toc-text">canvas 实践</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dom-方式与-Jquery-获取元素方式和判断对象是否为空"><span class="toc-text">dom 方式与 Jquery 获取元素方式和判断对象是否为空</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dom-对象与-jq-对象互转"><span class="toc-text">dom 对象与 jq 对象互转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#checkbox-是否选中判断方式"><span class="toc-text">checkbox 是否选中判断方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dom-与-jquery-等价关系"><span class="toc-text">dom 与 jquery 等价关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jquery-过滤器"><span class="toc-text">jquery 过滤器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jq-事件和鼠标移入移出效果实现"><span class="toc-text">jq 事件和鼠标移入移出效果实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义-animate-动画"><span class="toc-text">自定义 animate 动画</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/08/11/Vue的旁门左道/">Vue的旁门左道</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/14/项目管理精华/">项目管理精华 - 科丽·科歌昂、叙泽特·布莱克莫尔、詹姆士·伍德</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/04/如何阅读一本书/">如何阅读一本书 - 莫提默·J.艾德勒</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/22/沟通训练营/">沟通训练营</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/20/typescript学习笔记/">typescript学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/12/阐述__proto__和prototype的关系/">阐述__proto__和prototype的关系</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/求无序数组第几大的数字/">求无序数组第几大的数字</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/02/13/call、apply、bind探索之路/">call、apply、bind探索之路</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/25/vue学习心得/">vue2.0学习心得</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/04/js基础和设计模式/">js基础和设计模式</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Jquery/">Jquery</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mockjs/">Mockjs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Seajs/">Seajs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gulp/">gulp</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/less/">less</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/react/">react</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/requirejs/">requirejs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/typescript/">typescript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack/">webpack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习/">学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/插件/">插件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/">笔记</a><span class="category-list-count">5</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://github.com/liwenxin-jam/" title="个人github" target="_blank">个人github</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><span> Copyright &copy;<a href="/." rel="nofollow">黎文欣.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script></body></html>